---
title: "生成随机数"
discriptions: "生成随机数"
date: 2018-10-30T22:44:33+08:00
author: Pismery Liu
archives: "2018"
tags: [排序算法]
categories: []
toc: true
---
<!--more-->

> 代码


```
public class RandomUtils {

    /**
     * @param minValue random number min value
     * @param maxValue random number max value
     * @return if minValue < maxValue return n (minValue <= n < maxValue)
     * if minValue == maxValue return minValue
     * if minValue > maxValue throw RuntimeException
     */
    public static int randomInt(int minValue, int maxValue) {
        if (maxValue < minValue) {
            throw new RuntimeException("maxValue < minValue");
        }
        if (maxValue == minValue) {
            return minValue;
        }
        return (int) (Math.random() * (maxValue - minValue)) + minValue;
    }

    /**
     * @param minValue random number min value
     * @param maxValue random number max value
     * @param size the array size
     * @return int[n] (minValue <= int[n] < maxValue)
     */
    public static int[] randomArray(int minValue, int maxValue, int size) {
        int[] result = new int[size];
        for (int i = 0; i < size; i++) {
            result[i] = randomInt(minValue, maxValue);
        }
        return result;
    }

    /**
     * 1.先生成int[size] source 不重复的数组
     * 2.随机一个下标小于size的index，将source[index]赋值到result[]
     * 3.将source[sourceSize-1]最后一位赋值到source[index]确保下一个循环source仍然为不重复的数组
     * 4.for循环 sourceSize--
     *
     * @param minValue random number min value
     * @param maxValue random number max value
     * @param size the array size
     * @return int[n] (minValue <= int[n] <= maxValue)
     */
    public static int[] randomArrayNoRepeat(int minValue, int maxValue, int size) {
        int sourceSize = maxValue - minValue + 1;
        if (sourceSize < size) { //size过大
            throw new RuntimeException("size is bigger than the range size");
        }
        //生成[minValue,maxValue]的数组
        int[] source = new int[sourceSize];
        for (int i = 0; i < sourceSize; i++) {
            source[i] = i + minValue;
        }

        int[] result = new int[size];
        int index = 0; //source数组的下标
        for (int i = 0; i < size; i++) {
            index = randomInt(0, sourceSize - 1);
            result[i] = source[index];
            source[index] = source[--sourceSize]; //#注意是 --source
        }

        return result;
    }

    /**
     * 1. 生成一个有序的数组
     * 2. 随机交换changeTimes次
     * @param size the array size
     * @param changeTimes 交换次数
     * @return nearly sorted array
     */
    public static int[] randomArrayNearlySorted(int size, int changeTimes) {
        if ( size <= 0 || changeTimes < 0) {
            throw new RuntimeException("paramter is illegal");
        }

        int[] result = new int[size];
        for (int i = 0; i < size; i++) {
            result[i] = i + 1;
        }

        int changeXIndex = 0;
        int changeYIndex = 0;
        for (int i = 0; i < changeTimes; i++) {
            changeXIndex = randomInt(0, size);
            changeYIndex = randomInt(0, size);

            if(changeXIndex == changeYIndex)
                    continue;

            result[changeXIndex] ^= result[changeYIndex];
            result[changeYIndex] ^= result[changeXIndex];
            result[changeXIndex] ^= result[changeYIndex];
        }

        return result;
    }
}
```